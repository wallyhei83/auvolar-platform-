(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6503],{4128:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7340).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},7340:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var a=s(55271);let r=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:i=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:n="",children:h,iconNode:x,...o}=e;return(0,a.createElement)("svg",{ref:t,...l,width:i,height:i,stroke:s,strokeWidth:c?24*Number(d)/Number(i):d,className:r("lucide",n),...o},[...x.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(h)?h:[h]])}),d=(e,t)=>{let s=(0,a.forwardRef)((s,l)=>{let{className:d,...c}=s;return(0,a.createElement)(i,{ref:l,iconNode:t,className:r("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),d),...c})});return s.displayName="".concat(e),s}},24451:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7340).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},27152:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7340).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},40403:(e,t,s)=>{Promise.resolve().then(s.bind(s,47767))},46343:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7340).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},47767:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var a=s(88111),r=s(55271),l=s(55935),i=s.n(l),d=s(93447),c=s(7340);let n=(0,c.A)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),h=(0,c.A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var x=s(24451);let o=(0,c.A)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),m=(0,c.A)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);var y=s(63736),p=s(27152),u=s(4128),g=s(46343);let f=(0,c.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var j=s(93468);function N(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),[c,N]=(0,r.useState)(!1),[b,w]=(0,r.useState)(""),k=async()=>{try{let e=await fetch("/api/admin/case-studies"),s=await e.json();t(s.caseStudies||[])}catch(e){console.error("Fetch error:",e)}finally{l(!1)}};(0,r.useEffect)(()=>{k()},[]);let v=async()=>{if(confirm("This will import the initial 7 case studies. Continue?")){N(!0);try{var e;let t=await fetch("/api/admin/case-studies/seed",{method:"POST"}),s=await t.json();w("Seed complete: ".concat(null==(e=s.results)?void 0:e.map(e=>"".concat(e.slug,": ").concat(e.action)).join(", "))),k()}catch(e){w("Seed failed")}finally{N(!1)}}},A=async(e,t)=>{try{await fetch("/api/admin/case-studies/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isPublished:!t})}),k()}catch(e){console.error("Toggle error:",e)}},M=async(e,t)=>{if(confirm('Delete "'.concat(t,'"? This cannot be undone.')))try{await fetch("/api/admin/case-studies/".concat(e),{method:"DELETE"}),k()}catch(e){console.error("Delete error:",e)}},C=async(t,s)=>{let a=e.findIndex(e=>e.id===t);if(-1===a)return;let r="up"===s?a-1:a+1;if(r<0||r>=e.length)return;let l=e[a],i=e[r];await Promise.all([fetch("/api/admin/case-studies/".concat(l.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({sortOrder:i.sortOrder})}),fetch("/api/admin/case-studies/".concat(i.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({sortOrder:l.sortOrder})})]),k()};return s?(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsx)(d.A,{className:"w-8 h-8 animate-spin text-yellow-500"})}):(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n,{className:"w-6 h-6 text-yellow-500"}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Case Studies"}),(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["(",e.length,")"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[0===e.length&&(0,a.jsxs)("button",{onClick:v,disabled:c,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[c?(0,a.jsx)(d.A,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(h,{className:"w-4 h-4"}),"Seed Initial Data"]}),(0,a.jsxs)(i(),{href:"/admin/case-studies/new",className:"flex items-center gap-2 px-4 py-2 bg-yellow-400 text-black font-semibold rounded-lg hover:bg-yellow-500",children:[(0,a.jsx)(x.A,{className:"w-4 h-4"}),"New Case Study"]})]})]}),b&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-800",children:b}),(0,a.jsxs)("div",{className:"bg-white rounded-xl border overflow-hidden",children:[(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-500",children:"Order"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-500",children:"Case Study"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-500",children:"Category"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-500",children:"Images"}),(0,a.jsx)("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-500",children:"Status"}),(0,a.jsx)("th",{className:"text-right px-4 py-3 text-sm font-medium text-gray-500",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y",children:e.map((t,s)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("button",{onClick:()=>C(t.id,"up"),disabled:0===s,className:"p-1 hover:bg-gray-200 rounded disabled:opacity-30",children:(0,a.jsx)(o,{className:"w-3 h-3"})}),(0,a.jsx)("span",{className:"text-sm text-gray-500 w-6 text-center",children:t.sortOrder}),(0,a.jsx)("button",{onClick:()=>C(t.id,"down"),disabled:s===e.length-1,className:"p-1 hover:bg-gray-200 rounded disabled:opacity-30",children:(0,a.jsx)(m,{className:"w-3 h-3"})})]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:t.title}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:t.clients.join(", ")||"No clients listed"})]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:t.category})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,a.jsx)(y.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{className:t.images.length>0?"text-green-600":"text-gray-400",children:t.images.length})]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("button",{onClick:()=>A(t.id,t.isPublished),className:"flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ".concat(t.isPublished?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"),children:[t.isPublished?(0,a.jsx)(p.A,{className:"w-3 h-3"}):(0,a.jsx)(u.A,{className:"w-3 h-3"}),t.isPublished?"Published":"Draft"]})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(i(),{href:"/case-studies",target:"_blank",className:"p-2 hover:bg-gray-100 rounded-lg text-gray-400 hover:text-gray-600",title:"View on site",children:(0,a.jsx)(g.A,{className:"w-4 h-4"})}),(0,a.jsx)(i(),{href:"/admin/case-studies/".concat(t.id),className:"p-2 hover:bg-gray-100 rounded-lg text-gray-400 hover:text-blue-600",title:"Edit",children:(0,a.jsx)(f,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>M(t.id,t.title),className:"p-2 hover:bg-red-50 rounded-lg text-gray-400 hover:text-red-600",title:"Delete",children:(0,a.jsx)(j.A,{className:"w-4 h-4"})})]})})]},t.id))})]}),0===e.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(n,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),(0,a.jsx)("p",{className:"text-gray-500 mb-2",children:"No case studies yet"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:'Click "Seed Initial Data" to import the existing 7 case studies, or create a new one.'})]})]})]})}},63736:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7340).A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},93447:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7340).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},93468:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(7340).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},e=>{e.O(0,[5935,814,9743,7358],()=>e(e.s=40403)),_N_E=e.O()}]);